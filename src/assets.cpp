#include "assets.h"


void Assets::init(){
    colliderID = 0;

    //polygon asset must be defined clockwise, otherwise normals will be inverted
    this->plrAsset = {{-0.05,-0.04},{0.08,0.0},{-0.05,0.04},{-0.02,-0.0}};
    this->gunAsset= {{0.06,0.0},{0.01,0.01},{-0.0,0.02},{-0.02,-0.0},{0.0,-0.02},{0.01,-0.01}};
    this->flameAsset = { {-0.12,-0.0},{-0.05,-0.02},{-0.03,-0.0},{-0.05,0.02} };
    this->flameJoints = { jointInfo({1,2,3}, {0, 0}), jointInfo({0}, {-0.12, 0.0}) };
    this->flameLinks = { linkInfo({1}, {7}), linkInfo({},{}) };

    this->box = {{-0.07,-0.08},{0.09,-0.08},{0.09,0.08},{-0.07,0.08}};

    this->swarmerAsset = {{0.05,0.01},{0.01,0.03},{-0.05,-0.0},{0.01,-0.03},{0.05,-0.01},{0.02,-0.01},{0.01,0.0},{0.02,0.01}};

    this->outerEngBall = {{-0.02,-0.04},{0.02,-0.04},{0.05,0.0},{0.02,0.04},{-0.02,0.04},{-0.05,-0.0}};
    this->innerEngBall = {{0.02,0.0},{0.01,0.02},{-0.01,0.02},{-0.02,-0.0},{-0.01,-0.02},{0.01,-0.02}};

    this->testPoly = {{-0.1,-0.1},{0.1,-0.1},{0.1,0.1},{-0.1,0.1}};
    this->testJoints = { jointInfo({0,1}, {0,-0.1}), jointInfo({2,3}, {0,0.1}) };


    //test snake stuff (soon to be maurader)
    this->testSnakePoly = { {0.6, -0.03333}, {0.66667, 0.0}, {0.6, 0.03333}, {0.63333, 0.1}, {0.76667, 0.03333}, {0.63333, 0.16667}, {0.5, 0.06667}, {0.36667, 0.06667}, {0.33333, 0.1}, {0.3, 0.06667}, {0.16667, 0.06667}, {0.13333, 0.1}, {0.1, 0.06667}, {-0.03333, 0.06667}, {-0.06667, 0.1}, {-0.1, 0.06667}, {-0.23333, 0.06667}, {-0.26667, 0.1}, 
                            {-0.3, 0.06667}, {-0.43333, 0.06667}, {-0.66667, 0.0}, {-0.43333, -0.06667}, {-0.3, -0.06667}, {-0.26667, -0.1}, {-0.23333, -0.06667}, {-0.1, -0.06667}, {-0.06667, -0.1}, {-0.03333, -0.06667}, {0.1, -0.06667}, {0.13333, -0.1}, {0.16667, -0.06667}, {0.3, -0.06667}, {0.33333, -0.1}, {0.36667, -0.06667}, {0.5, -0.06667}, 
                            {0.63333, -0.16667}, {0.76667, -0.03333}, {0.63333, -0.1} };


    vector<complex<double>> testEye = { {0.56667, 0.0}, {0.53333, -0.06667}, {0.5, 0.0}, {0.53333, 0.06667}, {0.56667, 0.0}, {0.53333, -0.03333}, {0.5, 0.0}, {0.53333, 0.03333} };
    vector<complex<double>> testPattern1 = { {0.3, 0.0}, {0.33333, -0.03333}, {0.36667, 0.0}, {0.33333, 0.03333} };
    vector<complex<double>> testPattern2 = { {0.1, 0.0}, {0.13333, -0.03333}, {0.16667, 0.0}, {0.13333, 0.03333} };
    vector<complex<double>> testPattern3 = { {-0.1, 0.0}, {-0.06667, -0.03333}, {-0.03333, 0.0}, {-0.06667, 0.03333} };
    vector<complex<double>> testPattern4 = { {-0.3, 0.0}, {-0.26667, -0.03333}, {-0.23333, 0.0}, {-0.26667, 0.03333} };
    vector<complex<double>> testPattern5 = { {-0.4, -0.03333}, {-0.43333, 0.0}, {-0.4, 0.03333}, {-0.56667, 0.0} };
    this->testSnakeJoints = { jointInfo( {34, 35, 36, 37, 0, 1, 2, 3, 4, 5, 6}, { 0.5, 0.0 },testEye), 
                            jointInfo( {7, 8, 9, 31, 32, 33}, { 0.33333, 0.0 },testPattern1), 
                            jointInfo( {28, 29, 30, 10, 11, 12}, { 0.13333, 0.0 },testPattern2), 
                            jointInfo( {25, 26, 27, 13, 14, 15}, { -0.06667, 0.0 },testPattern3), 
                            jointInfo( {22, 23, 24, 16, 17, 18}, { -0.26667, 0.0 },testPattern4), 
                            jointInfo( {19, 20, 21}, { -0.43333, 0.0 },testPattern5) };
    

    //host stuff
    this->hostPoly = { {0.2, -0.03333}, {0.3, 0.0}, {0.2, 0.03333}, {0.26667, 0.13333}, {0.36667, 0.03333}, {0.26667, 0.2}, {0.2, 0.13333}, {0.26667, 0.26667}, {0.33333, 0.23333}, {0.23333, 0.33333}, {0.13333, 0.13333}, 
                    {-0.06667, 0.1}, {-0.5, 0.0}, {-0.06667, -0.1}, {0.13333, -0.13333}, {0.23333, -0.33333}, {0.33333, -0.23333}, {0.26667, -0.26667}, {0.2, -0.13333}, {0.26667, -0.2}, {0.36667, -0.03333}, {0.26667, -0.13333} };
    
    vector<complex<double>> hostEye = { {0.16667, 0.0}, {0.1, 0.1}, {0.03333, 0.0}, {0.1, -0.1}, {0.16667, 0.0}, {0.1, 0.03333}, {0.03333, 0.0}, {0.1, -0.03333}, {0.16667, 0.0}, {0.03333, 0.0} };
    this->hostJoints = { jointInfo( {14, 15, 16, 17, 18, 19, 20, 21, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10}, { 0.13333, 0.0 }, hostEye), 
                        jointInfo( {13, 11}, { -0.06667, 0.0 }), 
                        jointInfo( {12}, {-0.5, 0.0}) };
    
    this->hostLinks = { linkInfo({1},{10}), linkInfo({2},{5}), linkInfo({},{}) };


    this->skeleTestPoly = { {0.12, -0.04}, {-0.02, -0.1}, {-0.16, -0.06}, {-0.34, -0.08}, {-0.5, -0.1}, {-0.66, -0.12}, {-0.5, -0.06}, {-0.34, -0.04}, {-0.16, -0.02}, {-0.34, -0.02}, {-0.52, -0.02}, {-0.7, 0.0}, {-0.52, 0.02}, {-0.34, 0.02}, {-0.16, 0.02}, {-0.34, 0.04}, {-0.5, 0.06}, {-0.66, 0.1}, {-0.5, 0.1}, {-0.34, 0.08}, {-0.16, 0.06}, {-0.02, 0.1}, {0.12, 0.04}, {-0.02, 0.06}, {-0.08, 0.0}, {-0.02, -0.06} };
    this->skeleTestJoints= { jointInfo( {2, 1, 0, 25, 24, 23, 22, 21, 20, 14, 8}, { -0.14, 0.0 }), jointInfo( {3, 7}, { -0.34, -0.06 }), jointInfo( {4, 6}, { -0.5, -0.08 }), jointInfo( {5}, { -0.66, -0.12 }), jointInfo( {9, 13}, { -0.34, 0.0 }), jointInfo( {10, 12}, { -0.5, 0.0 }), jointInfo( {11}, { -0.7, 0.0 }), jointInfo( {15, 19}, { -0.34, 0.06 }), jointInfo( {16, 18}, { -0.5, 0.08 }), jointInfo( {17}, { -0.66, 0.1 }) };
    this->skeleTestLinks = { linkInfo({1,4,7},{10,10,10}), 
                            linkInfo({2},{7}), linkInfo({3},{5}),linkInfo({},{}),
                            linkInfo({5},{7}), linkInfo({6},{5}),linkInfo({},{}),
                            linkInfo({8},{7}), linkInfo({9},{5}),linkInfo({},{}) };
    
    this->sunPoly = { {-0.1, -0.05}, {-0.05, -0.2}, {0.0, -0.4}, {0.05, -0.2}, {0.1, -0.05}, {0.35, 0.0}, {0.1, 0.05}, {0.0, 0.3}, {-0.1, 0.05}, {-0.35, 0.0} };

    this->sunJoints = { jointInfo( {0, 4, 6, 8}, { 0.0, 0.0 }), jointInfo( {1, 3}, { 0.0, -0.2 }), jointInfo( {2}, { 0.0, -0.4 }), jointInfo( {5}, { 0.35, 0.0 }), jointInfo( {7}, { 0.0, 0.3 }), jointInfo( {9}, { -0.35, 0.0 }) };
    
    this->sunLinks = { linkInfo({1,3,4,5},{5,5,5,5}),
                        linkInfo({2},{5}),linkInfo({},{}),
                        linkInfo({},{}),
                        linkInfo({},{}),
                        linkInfo({},{}) };
}   


int Assets::getID(){
    this->colliderID++;
    return this->colliderID;
}